{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Moaz Akram Khan\\\\Desktop\\\\client\\\\src\\\\components\\\\HomeComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Navbar } from \"./Navbar\";\nimport { FaEdit, FaTrash, FaSpinner } from 'react-icons/fa';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const HomeComp = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const Navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [id, setID] = useState('');\n  useEffect(() => {\n    (async () => {\n      const response = await fetch('http://localhost:8000/api/user', {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      if (response.status === 401) {\n        setName(\"\");\n        setID(\"\");\n      } else {\n        const content = await response.json();\n        setName(content.name);\n        setID(content.UserID);\n      }\n    })();\n  });\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(\"http://localhost:8000/bloglist\", {\n        withCredentials: true\n      });\n      const content = response.data.data;\n      setData(content);\n      setLoading(false);\n    } catch (e) {\n      setErrorMessage(e.message);\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner\",\n      children: /*#__PURE__*/_jsxDEV(FaSpinner, {\n        className: \"fa-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n  if (errorMessage) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [\"Error Occurred: \", errorMessage]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n  let menu;\n  if (name === \"\" && id === \"\") {\n    menu = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"not-loggedin-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"You are not logged in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true);\n  } else {\n    menu = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Blog Application\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), name && /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"newblog-btn\",\n        onClick: () => Navigate(\"/createblog\"),\n        children: \"Create New Blog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"blog-container\",\n        children: data && data.length > 0 ? data.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blog\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/blogdetails/${item.id}`,\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icons\",\n            children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n              className: \"icon\",\n              onClick: () => {\n                Navigate(`/updateDetails/${item.id}`);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FaTrash, {\n              className: \"icon\",\n              onClick: () => {\n                Navigate(`/deleteBlog/${item.id}`);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.post\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), item.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:8000${item.image}`,\n            alt: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 30\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No blogs available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: menu\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n};\n_s(HomeComp, \"rR8K1K7zCfKb0BMo2tvbT6Mz158=\", false, function () {\n  return [useNavigate];\n});\n_c = HomeComp;\nvar _c;\n$RefreshReg$(_c, \"HomeComp\");","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useNavigate","Navbar","FaEdit","FaTrash","FaSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","HomeComp","_s","data","setData","loading","setLoading","errorMessage","setErrorMessage","Navigate","name","setName","id","setID","response","fetch","headers","credentials","status","content","json","UserID","fetchData","get","withCredentials","e","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","menu","onClick","length","map","item","to","title","post","image","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/Moaz Akram Khan/Desktop/client/src/components/HomeComponent.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport { Link, useNavigate} from 'react-router-dom';\r\nimport { Navbar } from \"./Navbar\";\r\nimport { FaEdit, FaTrash, FaSpinner } from 'react-icons/fa';\r\nimport './styles.css'\r\n\r\n\r\nexport const HomeComp = () => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const Navigate = useNavigate()\r\n  \r\n  const [name,setName] = useState('')\r\n  const [id,setID] = useState('')\r\n    useEffect(() => {\r\n     (\r\n     async () => {\r\n       const response = await fetch('http://localhost:8000/api/user', {\r\n         headers: { 'Content-Type': 'application/json' },\r\n         credentials: 'include',\r\n       });\r\n       if(response.status === 401){\r\n            setName(\"\")\r\n            setID(\"\")\r\n       }\r\n       else{\r\n       const content = await response.json();\r\n           setName(content.name)\r\n           setID(content.UserID)\r\n       }\r\n     }\r\n     )();\r\n   });\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(\"http://localhost:8000/bloglist\",{withCredentials:true});\r\n      const content = response.data.data;\r\n      setData(content);\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setErrorMessage(e.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n  if (loading) {\r\n    return (\r\n      <div className=\"spinner\">\r\n        <FaSpinner className=\"fa-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (errorMessage) {\r\n    return (\r\n      <div className=\"error-message\">\r\n        Error Occurred: {errorMessage}\r\n      </div>\r\n    );\r\n  }\r\n  let menu\r\n   if(name === \"\" && id === \"\"){\r\n      menu = (\r\n        <>\r\n           <Navbar />\r\n           <div className=\"not-loggedin-container\">\r\n            <div>\r\n              You are not logged in  \r\n            </div>\r\n              </div>\r\n        </>\r\n       \r\n      )\r\n   }\r\n   else{\r\n    menu = (\r\n      <div className=\"container\">\r\n        <div className=\"header\">\r\n          <h1>Blog Application</h1>\r\n          {name && <h2>Welcome {name}</h2>}\r\n        </div>\r\n        <Navbar />\r\n        <button className=\"newblog-btn\" onClick={()=>Navigate(\"/createblog\")}>Create New Blog</button>\r\n        <div className=\"blog-container\">\r\n          {data && data.length > 0 ? data.map((item) => (\r\n            <div className=\"blog\" key={item.id}>\r\n              <Link to={`/blogdetails/${item.id}`}>{item.title}</Link>\r\n              <div className=\"icons\">\r\n                <FaEdit className=\"icon\" onClick={()=>{Navigate(`/updateDetails/${item.id}`)}}/>\r\n                <FaTrash className=\"icon\" onClick={()=>{Navigate(`/deleteBlog/${item.id}`)}}/>\r\n              </div>\r\n              <p>{item.post}</p>\r\n              {item.image && <img src ={`http://localhost:8000${item.image}`} alt={item.title} />}\r\n            </div>\r\n          )) : <p>No blogs available.</p>}\r\n        </div>\r\n      </div>\r\n    );\r\n   }\r\n   return (\r\n        <div>\r\n        {menu}</div>\r\n   )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}